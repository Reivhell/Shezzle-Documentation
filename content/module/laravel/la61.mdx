---
title: "Sesi 61: Filament (Admin Panel)"
description: "Menguasai Filament PHP untuk membangun admin panel yang powerful dan customizable dengan TALL stack (Tailwind, Alpine, Laravel, Livewire)."
category: "laravel"
tags: ["laravel"]
order: 61
---

## Tujuan Pembelajaran

Menguasai Filament PHP untuk membangun admin panel yang powerful dan customizable dengan TALL stack (Tailwind, Alpine, Laravel, Livewire).

## 1. Instalasi & Setup

### 1.1 Instalasi Filament

```bash
# Install Filament
composer require filament/filament:"^3.0" -W

# Install panel
php artisan filament:install --panels

# Jalankan migrasi
php artisan migrate

# Buat user admin
php artisan make:filament-user
```

### 1.2 Konfigurasi Panel

```php
<?php

// app/Providers/Filament/AdminPanelProvider.php
namespace App\Providers\Filament;

use Filament\Http\Middleware\Authenticate;
use Filament\Http\Middleware\DisableBladeIconComponents;
use Filament\Http\Middleware\DispatchServingFilamentEvent;
use Filament\Pages;
use Filament\Panel;
use Filament\PanelProvider;
use Filament\Support\Colors\Color;
use Filament\Widgets;
use Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse;
use Illuminate\Cookie\Middleware\EncryptCookies;
use Illuminate\Foundation\Http\Middleware\VerifyCsrfToken;
use Illuminate\Routing\Middleware\SubstituteBindings;
use Illuminate\Session\Middleware\AuthenticateSession;
use Illuminate\Session\Middleware\StartSession;
use Illuminate\View\Middleware\ShareErrorsFromSession;

class AdminPanelProvider extends PanelProvider
{
    public function panel(Panel $panel): Panel
    {
        return $panel
            ->default()
            ->id('admin')
            ->path('admin')
            ->login()
            ->colors([
                'primary' => Color::Indigo,
                'danger' => Color::Rose,
                'info' => Color::Blue,
                'success' => Color::Emerald,
                'warning' => Color::Orange,
            ])
            ->font('Inter')
            ->brandName('My App Admin')
            ->brandLogo(asset('images/logo.svg'))
            ->favicon(asset('images/favicon.ico'))
            ->discoverResources(in: app_path('Filament/Resources'), for: 'App\\Filament\\Resources')
            ->discoverPages(in: app_path('Filament/Pages'), for: 'App\\Filament\\Pages')
            ->pages([
                Pages\Dashboard::class,
            ])
            ->discoverWidgets(in: app_path('Filament/Widgets'), for: 'App\\Filament\\Widgets')
            ->widgets([
                Widgets\AccountWidget::class,
                Widgets\FilamentInfoWidget::class,
            ])
            ->middleware([
                EncryptCookies::class,
                AddQueuedCookiesToResponse::class,
                StartSession::class,
                AuthenticateSession::class,
                ShareErrorsFromSession::class,
                VerifyCsrfToken::class,
                SubstituteBindings::class,
                DisableBladeIconComponents::class,
                DispatchServingFilamentEvent::class,
            ])
            ->authMiddleware([
                Authenticate::class,
            ])
            ->plugins([
                // \BezhanSalleh\FilamentShield\FilamentShieldPlugin::make(),
            ]);
    }
}
```

## 2. Resources

### 2.1 Creating Resources

```bash
# Buat resource
php artisan make:filament-resource User

# Dengan model
php artisan make:filament-resource User --model=User

# Generate semua pages
php artisan make:filament-resource User --generate
```

```php
<?php

// app/Filament/Resources/UserResource.php
namespace App\Filament\Resources;

use App\Filament\Resources\UserResource\Pages;
use App\Models\User;
use Filament\Forms;
use Filament\Forms\Form;
use Filament\Resources\Resource;
use Filament\Tables;
use Filament\Tables\Table;
use Illuminate\Database\Eloquent\Builder;
use Illuminate\Database\Eloquent\SoftDeletingScope;

class UserResource extends Resource
{
    protected static ?string $model = User::class;
    
    protected static ?string $navigationIcon = 'heroicon-o-users';
    
    protected static ?string $navigationGroup = 'User Management';
    
    protected static ?int $navigationSort = 1;

    public static function form(Form $form): Form
    {
        return $form
            ->schema([
                Forms\Components\Section::make('Profile')
                    ->description('User personal information')
                    ->schema([
                        Forms\Components\TextInput::make('name')
                            ->required()
                            ->maxLength(255),
                        
                        Forms\Components\TextInput::make('email')
                            ->email()
                            ->required()
                            ->unique(ignoreRecord: true)
                            ->maxLength(255),
                        
                        Forms\Components\DateTimePicker::make('email_verified_at')
                            ->label('Email Verified At'),
                        
                        Forms\Components\TextInput::make('password')
                            ->password()
                            ->required(fn (string $context): bool => $context === 'create')
                            ->dehydrated(fn (?string $state): bool => filled($state))
                            ->confirmed(),
                        
                        Forms\Components\TextInput::make('password_confirmation')
                            ->password()
                            ->required(fn (string $context): bool => $context === 'create')
                            ->dehydrated(false),
                    ])
                    ->columns(2),
                
                Forms\Components\Section::make('Settings')
                    ->schema([
                        Forms\Components\Toggle::make('is_admin')
                            ->label('Administrator')
                            ->helperText('Grant full admin access'),
                        
                        Forms\Components\Select::make('roles')
                            ->multiple()
                            ->relationship('roles', 'name')
                            ->preload(),
                    ]),
            ]);
    }

    public static function table(Table $table): Table
    {
        return $table
            ->columns([
                Tables\Columns\ImageColumn::make('avatar')
                    ->circular()
                    ->defaultImageUrl(fn ($record) => 'https://ui-avatars.com/api/?name=' . urlencode($record->name)),
                
                Tables\Columns\TextColumn::make('name')
                    ->searchable()
                    ->sortable(),
                
                Tables\Columns\TextColumn::make('email')
                    ->searchable()
                    ->sortable()
                    ->copyable(),
                
                Tables\Columns\IconColumn::make('email_verified_at')
                    ->boolean()
                    ->trueIcon('heroicon-o-check-circle')
                    ->falseIcon('heroicon-o-x-circle'),
                
                Tables\Columns\TextColumn::make('created_at')
                    ->dateTime()
                    ->sortable()
                    ->toggleable(isToggledHiddenByDefault: true),
            ])
            ->filters([
                Tables\Filters\Filter::make('verified')
                    ->query(fn (Builder $query): Builder => $query->whereNotNull('email_verified_at')),
                
                Tables\Filters\SelectFilter::make('roles')
                    ->relationship('roles', 'name')
                    ->multiple()
                    ->preload(),
            ])
            ->actions([
                Tables\Actions\EditAction::make(),
                Tables\Actions\DeleteAction::make(),
                Tables\Actions\RestoreAction::make(),
            ])
            ->bulkActions([
                Tables\Actions\BulkActionGroup::make([
                    Tables\Actions\DeleteBulkAction::make(),
                    Tables\Actions\RestoreBulkAction::make(),
                ]),
            ])
            ->emptyStateActions([
                Tables\Actions\CreateAction::make(),
            ])
            ->defaultSort('created_at', 'desc');
    }

    public static function getRelations(): array
    {
        return [
            // Relation managers
        ];
    }

    public static function getPages(): array
    {
        return [
            'index' => Pages\ListUsers::route('/'),
            'create' => Pages\CreateUser::route('/create'),
            'edit' => Pages\EditUser::route('/{record}/edit'),
        ];
    }

    public static function getEloquentQuery(): Builder
    {
        return parent::getEloquentQuery()
            ->withoutGlobalScopes([
                SoftDeletingScope::class,
            ]);
    }
}
```

## 3. Forms

### 3.1 Form Components

```php
<?php

use Filament\Forms\Components\TextInput;
use Filament\Forms\Components\Textarea;
use Filament\Forms\Components\Select;
use Filament\Forms\Components\Toggle;
use Filament\Forms\Components\Checkbox;
use Filament\Forms\Components\DatePicker;
use Filament\Forms\Components\DateTimePicker;
use Filament\Forms\Components\FileUpload;
use Filament\Forms\Components\RichEditor;
use Filament\Forms\Components\MarkdownEditor;
use Filament\Forms\Components\TagsInput;
use Filament\Forms\Components\KeyValue;
use Filament\Forms\Components\Repeater;
use Filament\Forms\Components\Builder;
use Filament\Forms\Components\Section;
use Filament\Forms\Components\Fieldset;
use Filament\Forms\Components\Grid;
use Filament\Forms\Components\Tabs;
use Filament\Forms\Components\Wizard;
use Filament\Forms\Components\Split;

// Text inputs
TextInput::make('name')
    ->required()
    ->autofocus()
    ->placeholder('Enter full name')
    ->prefixIcon('heroicon-m-user')
    ->suffix('@company.com')
    ->hint('This will be displayed publicly')
    ->helperText('Your full legal name');

// Select dengan options
Select::make('status')
    ->options([
        'draft' => 'Draft',
        'published' => 'Published',
        'archived' => 'Archived',
    ])
    ->native(false)
    ->searchable()
    ->preload();

// File upload
FileUpload::make('avatar')
    ->image()
    ->imageEditor()
    ->circleCropper()
    ->directory('avatars')
    ->maxSize(2048);

// Repeater untuk dynamic fields
Repeater::make('links')
    ->schema([
        TextInput::make('title')->required(),
        TextInput::make('url')->url()->required(),
        Select::make('type')->options(['social', 'website', 'other']),
    ])
    ->collapsible()
    ->itemLabel(fn (array $state): ?string => $state['title'] ?? null)
    ->addActionLabel('Add Link')
    ->reorderableWithButtons()
    ->defaultItems(1);

// Builder untuk content blocks
Builder::make('content')
    ->blocks([
        Builder\Block::make('heading')
            ->schema([
                TextInput::make('content')->required(),
                Select::make('level')->options([1 => 'H1', 2 => 'H2', 3 => 'H3']),
            ]),
        Builder\Block::make('paragraph')
            ->schema([
                RichEditor::make('content'),
            ]),
        Builder\Block::make('image')
            ->schema([
                FileUpload::make('image'),
                TextInput::make('caption'),
            ]),
    ]);
```

### 3.2 Form Layout

```php
<?php

Tabs::make('Tabs')
    ->tabs([
        Tabs\Tab::make('General')
            ->schema([
                // fields
            ]),
        Tabs\Tab::make('Settings')
            ->schema([
                // fields
            ]),
    ])
    ->activeTab(1);

Wizard::make([
    Wizard\Step::make('Order Details')
        ->schema([
            // fields
        ]),
    Wizard\Step::make('Payment')
        ->schema([
            // fields
        ]),
    Wizard\Step::make('Confirmation')
        ->schema([
            // fields
        ]),
]);

Split::make([
    Section::make('Left')
        ->schema([
            // fields
        ]),
    Section::make('Right')
        ->schema([
            // fields
        ]),
])->from('md');
```

## 4. Tables

### 4.1 Columns

```php
<?php

use Filament\Tables\Columns\TextColumn;
use Filament\Tables\Columns\ImageColumn;
use Filament\Tables\Columns\IconColumn;
use Filament\Tables\Columns\BadgeColumn;
use Filament\Tables\Columns\ToggleColumn;
use Filament\Tables\Columns\CheckboxColumn;
use Filament\Tables\Columns\SelectColumn;
use Filament\Tables\Columns\TextInputColumn;

TextColumn::make('name')
    ->searchable()
    ->sortable()
    ->copyable()
    ->tooltip('Click to copy')
    ->description(fn ($record) => $record->email)
    ->weight('font-bold')
    ->color('primary');

ImageColumn::make('avatar')
    ->circular()
    ->stacked()
    ->limit(3)
    ->limitedRemainingText();

BadgeColumn::make('status')
    ->colors([
        'primary' => 'draft',
        'warning' => 'reviewing',
        'success' => 'published',
        'danger' => 'rejected',
    ])
    ->icons([
        'heroicon-m-pencil' => 'draft',
        'heroicon-m-eye' => 'reviewing',
        'heroicon-m-check' => 'published',
        'heroicon-m-x-mark' => 'rejected',
    ]);

ToggleColumn::make('is_active')
    ->beforeStateUpdated(function ($record, $state) {
        // Logic sebelum update
    });

SelectColumn::make('category_id')
    ->options(Category::pluck('name', 'id'))
    ->searchable();
```

### 4.2 Filters & Actions

```php
<?php

use Filament\Tables\Filters\Filter;
use Filament\Tables\Filters\SelectFilter;
use Filament\Tables\Filters\TernaryFilter;
use Filament\Tables\Filters\QueryBuilder;
use Filament\Tables\Actions\Action;
use Filament\Tables\Actions\BulkAction;

// Filters
SelectFilter::make('status')
    ->options(OrderStatus::class)
    ->multiple()
    ->native(false);

TernaryFilter::make('email_verified')
    ->nullable();

QueryBuilder::make()
    ->constraints([
        QueryBuilder\Constraints\TextConstraint::make('name'),
        QueryBuilder\Constraints\NumberConstraint::make('age'),
        QueryBuilder\Constraints\DateConstraint::make('created_at'),
    ]);

// Actions
Action::make('approve')
    ->requiresConfirmation()
    ->action(fn (Order $record) => $record->approve())
    ->color('success')
    ->icon('heroicon-m-check');

Action::make('download')
    ->url(fn (Invoice $record) => route('invoices.download', $record))
    ->openUrlInNewTab();

BulkAction::make('export')
    ->action(fn (Collection $records) => Excel::download(new UsersExport($records), 'users.xlsx'));
```

## 5. Widgets

```php
<?php

// app/Filament/Widgets/StatsOverview.php
namespace App\Filament\Widgets;

use App\Models\Order;
use App\Models\User;
use Filament\Widgets\StatsOverviewWidget as BaseWidget;
use Filament\Widgets\StatsOverviewWidget\Stat;

class StatsOverview extends BaseWidget
{
    protected function getStats(): array
    {
        return [
            Stat::make('Total Users', User::count())
                ->description('32k increase')
                ->descriptionIcon('heroicon-m-arrow-trending-up')
                ->color('success')
                ->chart([7, 3, 4, 5, 6, 3, 5, 3]),

            Stat::make('New Orders', Order::today()->count())
                ->description('3k increase')
                ->descriptionIcon('heroicon-m-arrow-trending-down')
                ->color('danger'),

            Stat::make('Revenue', '$' . number_format(Order::today()->sum('total')))
                ->description('12% increase')
                ->color('success'),
        ];
    }
}

// Chart widget
<?php

namespace App\Filament\Widgets;

use Filament\Widgets\ChartWidget;

class OrdersChart extends ChartWidget
{
    protected static ?string $heading = 'Orders';

    protected function getData(): array
    {
        return [
            'datasets' => [
                [
                    'label' => 'Orders',
                    'data' => [0, 10, 5, 2, 21, 32, 45, 74, 65, 45, 77, 89],
                ],
            ],
            'labels' => ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        ];
    }

    protected function getType(): string
    {
        return 'line';
    }
}
```

## 6. Plugins

### 6.1 Shield (RBAC)

```bash
composer require bezhansalleh/filament-shield
```

```php
<?php

// AdminPanelProvider
use BezhanSalleh\FilamentShield\FilamentShieldPlugin;

public function panel(Panel $panel): Panel
{
    return $panel
        ->plugins([
            FilamentShieldPlugin::make()
                ->gridColumns([
                    'default' => 1,
                    'sm' => 2,
                    'lg' => 3,
                ])
                ->sectionColumnSpan(1)
                ->checkboxListColumns([
                    'default' => 1,
                    'sm' => 2,
                    'lg' => 4,
                ])
                ->resourceCheckboxListColumns([
                    'default' => 1,
                    'sm' => 2,
                ]),
        ]);
}
```

### 6.2 Excel Export

```bash
composer require pxlrbt/filament-excel
```

```php
<?php

use pxlrbt\FilamentExcel\Actions\Tables\ExportBulkAction;

public static function table(Table $table): Table
{
    return $table
        ->bulkActions([
            ExportBulkAction::make(),
        ]);
}
```

## Kesimpulan

Filament menyediakan admin panel yang powerful dengan:
- **TALL stack**: Modern, reactive, tanpa build step
- **Rich components**: Forms, tables, widgets yang extensive
- **Customizable**: Themes, layouts, plugins
- **Productive**: Rapid development dengan code generation

Selanjutnya di **Sesi 62**, kita akan mempelajari Livewire (Full-stack Framework).
```
